<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>DoNotation</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="split left Agda">
<a id="2" class="Keyword">open</a> <a id="7" class="Keyword">import</a> <a id="14" href="Haskell.Prelude.html" class="Module">Haskell.Prelude</a>

<a id="31" class="Comment">-- Example from http://learnyouahaskell.com/a-fistful-of-monads#getting-our-feet-wet-with-maybe</a>

<a id="Birds"></a><a id="128" href="DoNotation.html#128" class="Function">Birds</a> <a id="134" class="Symbol">=</a> <a id="136" href="Haskell.Prim.Int.html#367" class="Datatype">Int</a>
<a id="Pole"></a><a id="140" href="DoNotation.html#140" class="Function">Pole</a> <a id="145" class="Symbol">=</a> <a id="147" href="DoNotation.html#128" class="Function">Birds</a> <a id="153" href="Haskell.Prim.Tuple.html#169" class="Record Operator">×</a> <a id="155" href="DoNotation.html#128" class="Function">Birds</a>

<a id="162" class="Symbol">{-#</a> <a id="166" class="Keyword">COMPILE</a> <a id="174" class="Keyword">AGDA2HS</a> <a id="182" href="DoNotation.html#128" class="Function">Birds</a> <a id="188" class="Symbol">#-}</a>
<a id="192" class="Symbol">{-#</a> <a id="196" class="Keyword">COMPILE</a> <a id="204" class="Keyword">AGDA2HS</a> <a id="212" href="DoNotation.html#140" class="Function">Pole</a> <a id="217" class="Symbol">#-}</a>


<a id="landLeft"></a><a id="223" href="DoNotation.html#223" class="Function">landLeft</a> <a id="232" class="Symbol">:</a> <a id="234" href="DoNotation.html#128" class="Function">Birds</a> <a id="240" class="Symbol">→</a> <a id="242" href="DoNotation.html#140" class="Function">Pole</a> <a id="247" class="Symbol">→</a> <a id="249" href="Haskell.Prim.Maybe.html#101" class="Datatype">Maybe</a> <a id="255" href="DoNotation.html#140" class="Function">Pole</a>
<a id="260" href="DoNotation.html#223" class="Function">landLeft</a> <a id="269" href="DoNotation.html#269" class="Bound">n</a> <a id="271" class="Symbol">(</a><a id="272" href="DoNotation.html#272" class="Bound">left</a> <a id="277" href="Haskell.Prim.Tuple.html#211" class="InductiveConstructor Operator">,</a> <a id="279" href="DoNotation.html#279" class="Bound">right</a><a id="284" class="Symbol">)</a> <a id="286" class="Symbol">=</a>
  <a id="290" href="Haskell.Prim.html#1713" class="Function Operator">if</a> <a id="293" href="Haskell.Prim.Num.html#714" class="Field">abs</a> <a id="297" class="Symbol">((</a><a id="299" href="DoNotation.html#272" class="Bound">left</a> <a id="304" href="Haskell.Prim.Num.html#547" class="Field Operator">+</a> <a id="306" href="DoNotation.html#269" class="Bound">n</a><a id="307" class="Symbol">)</a> <a id="309" href="Haskell.Prim.Num.html#577" class="Field Operator">-</a> <a id="311" href="DoNotation.html#279" class="Bound">right</a><a id="316" class="Symbol">)</a> <a id="318" href="Haskell.Prim.Ord.html#1072" class="Field Operator">&lt;</a> <a id="320" class="Number">4</a>
  <a id="324" href="Haskell.Prim.html#1713" class="Function Operator">then</a> <a id="329" href="Haskell.Prim.Maybe.html#162" class="InductiveConstructor">Just</a> <a id="334" class="Symbol">(</a><a id="335" href="DoNotation.html#272" class="Bound">left</a> <a id="340" href="Haskell.Prim.Num.html#547" class="Field Operator">+</a> <a id="342" href="DoNotation.html#269" class="Bound">n</a> <a id="344" href="Haskell.Prim.Tuple.html#211" class="InductiveConstructor Operator">,</a> <a id="346" href="DoNotation.html#279" class="Bound">right</a><a id="351" class="Symbol">)</a>
  <a id="355" href="Haskell.Prim.html#1713" class="Function Operator">else</a> <a id="360" href="Haskell.Prim.Maybe.html#142" class="InductiveConstructor">Nothing</a>

<a id="369" class="Symbol">{-#</a> <a id="373" class="Keyword">COMPILE</a> <a id="381" class="Keyword">AGDA2HS</a> <a id="389" href="DoNotation.html#223" class="Function">landLeft</a> <a id="398" class="Symbol">#-}</a>

<a id="landRight"></a><a id="403" href="DoNotation.html#403" class="Function">landRight</a> <a id="413" class="Symbol">:</a> <a id="415" href="DoNotation.html#128" class="Function">Birds</a> <a id="421" class="Symbol">→</a> <a id="423" href="DoNotation.html#140" class="Function">Pole</a> <a id="428" class="Symbol">→</a> <a id="430" href="Haskell.Prim.Maybe.html#101" class="Datatype">Maybe</a> <a id="436" href="DoNotation.html#140" class="Function">Pole</a>
<a id="441" href="DoNotation.html#403" class="Function">landRight</a> <a id="451" href="DoNotation.html#451" class="Bound">n</a> <a id="453" class="Symbol">(</a><a id="454" href="DoNotation.html#454" class="Bound">left</a> <a id="459" href="Haskell.Prim.Tuple.html#211" class="InductiveConstructor Operator">,</a> <a id="461" href="DoNotation.html#461" class="Bound">right</a><a id="466" class="Symbol">)</a> <a id="468" class="Symbol">=</a>
  <a id="472" href="Haskell.Prim.html#1713" class="Function Operator">if</a> <a id="475" href="Haskell.Prim.Num.html#714" class="Field">abs</a> <a id="479" class="Symbol">(</a><a id="480" href="DoNotation.html#454" class="Bound">left</a> <a id="485" href="Haskell.Prim.Num.html#577" class="Field Operator">-</a> <a id="487" class="Symbol">(</a><a id="488" href="DoNotation.html#461" class="Bound">right</a> <a id="494" href="Haskell.Prim.Num.html#547" class="Field Operator">+</a> <a id="496" href="DoNotation.html#451" class="Bound">n</a><a id="497" class="Symbol">))</a> <a id="500" href="Haskell.Prim.Ord.html#1072" class="Field Operator">&lt;</a> <a id="502" class="Number">4</a>
  <a id="506" href="Haskell.Prim.html#1713" class="Function Operator">then</a> <a id="511" href="Haskell.Prim.Maybe.html#162" class="InductiveConstructor">Just</a> <a id="516" class="Symbol">(</a><a id="517" href="DoNotation.html#454" class="Bound">left</a> <a id="522" href="Haskell.Prim.Tuple.html#211" class="InductiveConstructor Operator">,</a> <a id="524" href="DoNotation.html#461" class="Bound">right</a> <a id="530" href="Haskell.Prim.Num.html#547" class="Field Operator">+</a> <a id="532" href="DoNotation.html#451" class="Bound">n</a><a id="533" class="Symbol">)</a>
  <a id="537" href="Haskell.Prim.html#1713" class="Function Operator">else</a> <a id="542" href="Haskell.Prim.Maybe.html#142" class="InductiveConstructor">Nothing</a>

<a id="551" class="Symbol">{-#</a> <a id="555" class="Keyword">COMPILE</a> <a id="563" class="Keyword">AGDA2HS</a> <a id="571" href="DoNotation.html#403" class="Function">landRight</a> <a id="581" class="Symbol">#-}</a>

<a id="routine"></a><a id="586" href="DoNotation.html#586" class="Function">routine</a> <a id="594" class="Symbol">:</a> <a id="596" href="Haskell.Prim.Maybe.html#101" class="Datatype">Maybe</a> <a id="602" href="DoNotation.html#140" class="Function">Pole</a>
<a id="607" href="DoNotation.html#586" class="Function">routine</a> <a id="615" class="Symbol">=</a> <a id="617" class="Keyword">do</a>
    <a id="624" href="DoNotation.html#624" class="Bound">start</a> <a id="630" href="Haskell.Prim.Monad.html#532" class="Field Operator">←</a> <a id="632" href="Haskell.Prim.Monad.html#608" class="Field">return</a> <a id="639" class="Symbol">(</a><a id="640" class="Number">0</a> <a id="642" href="Haskell.Prim.Tuple.html#211" class="InductiveConstructor Operator">,</a> <a id="644" class="Number">0</a><a id="645" class="Symbol">)</a>
    <a id="651" href="DoNotation.html#651" class="Bound">first</a> <a id="657" href="Haskell.Prim.Monad.html#532" class="Field Operator">←</a> <a id="659" href="DoNotation.html#223" class="Function">landLeft</a> <a id="668" class="Number">2</a> <a id="670" href="DoNotation.html#624" class="Bound">start</a>
    <a id="680" href="DoNotation.html#680" class="Bound">second</a> <a id="687" href="Haskell.Prim.Monad.html#532" class="Field Operator">←</a> <a id="689" href="DoNotation.html#403" class="Function">landRight</a> <a id="699" class="Number">2</a> <a id="701" href="DoNotation.html#651" class="Bound">first</a>
    <a id="711" href="DoNotation.html#223" class="Function">landLeft</a> <a id="720" class="Number">1</a> <a id="722" href="DoNotation.html#680" class="Bound">second</a>

<a id="730" class="Symbol">{-#</a> <a id="734" class="Keyword">COMPILE</a> <a id="742" class="Keyword">AGDA2HS</a> <a id="750" href="DoNotation.html#586" class="Function">routine</a> <a id="758" class="Symbol">#-}</a>

<a id="routineWithoutDo"></a><a id="763" href="DoNotation.html#763" class="Function">routineWithoutDo</a> <a id="780" class="Symbol">:</a> <a id="782" href="Haskell.Prim.Maybe.html#101" class="Datatype">Maybe</a> <a id="788" href="DoNotation.html#140" class="Function">Pole</a>
<a id="793" href="DoNotation.html#763" class="Function">routineWithoutDo</a> <a id="810" class="Symbol">=</a>
    <a id="816" href="Haskell.Prim.Monad.html#608" class="Field">return</a> <a id="823" class="Symbol">(</a><a id="824" class="Number">0</a> <a id="826" href="Haskell.Prim.Tuple.html#211" class="InductiveConstructor Operator">,</a> <a id="828" class="Number">0</a><a id="829" class="Symbol">)</a> <a id="831" href="Haskell.Prim.Monad.html#1162" class="Function Operator">Dont.&gt;&gt;=</a> <a id="840" class="Symbol">λ</a> <a id="842" href="DoNotation.html#842" class="Bound">start</a> <a id="848" class="Symbol">→</a>
    <a id="854" href="DoNotation.html#223" class="Function">landLeft</a> <a id="863" class="Number">2</a> <a id="865" href="DoNotation.html#842" class="Bound">start</a> <a id="871" href="Haskell.Prim.Monad.html#1162" class="Function Operator">Dont.&gt;&gt;=</a> <a id="880" class="Symbol">λ</a> <a id="882" href="DoNotation.html#882" class="Bound">first</a> <a id="888" class="Symbol">→</a>
    <a id="894" href="DoNotation.html#403" class="Function">landRight</a> <a id="904" class="Number">2</a> <a id="906" href="DoNotation.html#882" class="Bound">first</a> <a id="912" href="Haskell.Prim.Monad.html#1162" class="Function Operator">Dont.&gt;&gt;=</a> <a id="921" class="Symbol">λ</a> <a id="923" href="DoNotation.html#923" class="Bound">second</a> <a id="930" class="Symbol">→</a>
    <a id="936" href="DoNotation.html#223" class="Function">landLeft</a> <a id="945" class="Number">1</a> <a id="947" href="DoNotation.html#923" class="Bound">second</a>

<a id="955" class="Symbol">{-#</a> <a id="959" class="Keyword">COMPILE</a> <a id="967" class="Keyword">AGDA2HS</a> <a id="975" href="DoNotation.html#763" class="Function">routineWithoutDo</a> <a id="992" class="Symbol">#-}</a>

<a id="swapPolesMaybe"></a><a id="997" href="DoNotation.html#997" class="Function">swapPolesMaybe</a> <a id="1012" class="Symbol">:</a> <a id="1014" href="Haskell.Prim.Maybe.html#101" class="Datatype">Maybe</a> <a id="1020" href="DoNotation.html#140" class="Function">Pole</a> <a id="1025" class="Symbol">→</a> <a id="1027" href="Haskell.Prim.Maybe.html#101" class="Datatype">Maybe</a> <a id="1033" href="DoNotation.html#140" class="Function">Pole</a>
<a id="1038" href="DoNotation.html#997" class="Function">swapPolesMaybe</a> <a id="1053" href="DoNotation.html#1053" class="Bound">x</a> <a id="1055" class="Symbol">=</a> <a id="1057" class="Keyword">do</a>
  <a id="1062" class="Symbol">(</a><a id="1063" href="DoNotation.html#1063" class="Bound">one</a> <a id="1067" href="Haskell.Prim.Tuple.html#211" class="InductiveConstructor Operator">,</a> <a id="1069" href="DoNotation.html#1069" class="Bound">two</a><a id="1072" class="Symbol">)</a> <a id="1074" href="Haskell.Prim.Monad.html#532" class="Field Operator">←</a> <a id="1076" href="DoNotation.html#1053" class="Bound">x</a>
  <a id="1080" href="Haskell.Prim.Applicative.html#483" class="Field">pure</a> <a id="1085" class="Symbol">(</a><a id="1086" href="DoNotation.html#1069" class="Bound">two</a> <a id="1090" href="Haskell.Prim.Tuple.html#211" class="InductiveConstructor Operator">,</a> <a id="1092" href="DoNotation.html#1063" class="Bound">one</a><a id="1095" class="Symbol">)</a>

<a id="1098" class="Symbol">{-#</a> <a id="1102" class="Keyword">COMPILE</a> <a id="1110" class="Keyword">AGDA2HS</a> <a id="1118" href="DoNotation.html#997" class="Function">swapPolesMaybe</a> <a id="1133" class="Symbol">#-}</a>
</pre><div class="split right"><embed src="build/DoNotation.html"/></div></body></html>